<script>
// Theme toggle logic with Material icon
function setTheme(mode) {
  if (mode === 'dark') {
    document.body.classList.remove('light-mode');
    document.body.classList.add('dark-mode');
    localStorage.setItem('theme', 'dark');
    setThemeIcon('dark');
  } else {
    document.body.classList.remove('dark-mode');
    document.body.classList.add('light-mode');
    localStorage.setItem('theme', 'light');
    setThemeIcon('light');
  }
}
function setThemeIcon(mode) {
  var icon = document.getElementById('theme-icon');
  if (!icon) return;
  icon.textContent = (mode === 'dark') ? 'light_mode' : 'dark_mode';
}
function toggleTheme() {
  const isDark = document.body.classList.contains('dark-mode');
  if (isDark) {
    setTheme('light');
  } else {
    setTheme('dark');
  }
}
// On load, set theme from localStorage or system
(function() {
  const saved = localStorage.getItem('theme');
  if (saved === 'dark') {
    setTheme('dark');
  } else if (saved === 'light') {
    setTheme('light');
  } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
    setTheme('dark');
  } else {
    setTheme('light');
  }
})();
</script>
